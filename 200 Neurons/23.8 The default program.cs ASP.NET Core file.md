---
note_type: note
tags:
  - programming
  - c#
  - web_development
  - .net
  - configuration
mn:
  - "[[13 Programming]]"
  - "[[13.7 C Sharp]]"
kt: theorical
checked:
---
[[13.8 ASP.NET Core|.NET]]

# The default program class 
>[!blank-container|float-left]
>![[Pasted image 20250119151615.png]]

The image shows the code generated in the file when executing the empty template, using top level statements. Two main tasks are perform in this file, **register services and set the middleware** and the middleware pipeline. 

# About the first line of code
The first line of code creates the web application builder which sets a default configuration for the following (everything can be change, but the defaults are fine):   
- DI.
- Lgging.
- The web server (kestrel) setting up ISS integration.
- Makes sure the app at startup, looks at the `appsettings.json` file and loads the settings from that file.
- Makes the `wwwroot` directory the default to contain static content. 

The `CreateBuilder()` method does some basic setup of the ASP.NET Core platform based on defaults and conventions; In this case, the builder is a web application builder. It’ll set up the Kestrel server. 

`WebApplication` is a ASP.NET Core class that simplifies this process. 

---
`builder` is the instance of the `WebApplicationBuilder` that allows to:
- Register services by giving access to the services collection. 
- Configure settings.
- Set up the middleware.

The Kestrel server is a Built-in cross-platform server that will run as part of the application handling the requests. Typically is placed behind a real web server like IIS. Therefore, the create builder method also configure the ISS integration. 

The content route, the place where to find executables code, is configure with a default when invoking the method. 

The configuration information is read from the appsettings.json file. 

Everything can be configure, but the default configuration usually is enough. 

# About builder, the variable
The variable can be used to access the services collection to register other services. In this case is calling the Build method and that’s the final step on the initialization. 

# About app
App is an web application object created when invoking the `Build()` method on `build`, which implements `IApplicationBuilder`, hence, instances of classes that implement interface provide mechanisms to configure an application's request pipeline. That's why `app` is used to configure the pipeline. 

It could be think as a web app used to set the middleware components and the middleware pipeline. 
MapGet is a middleware component. Finally, the run method, starts the application to listening for incoming requests. 
