---
note_type: note
tags:
  - programming
  - c#
  - web_development
  - .net_web_api
  - introduction
mn:
  - "[[12 Web Dev]]"
  - "[[13.7 C Sharp]]"
kt: theorical
checked:
---
[[13.9 ASP.NET Core Web API|ASP.NET Core Web API]]

This is the default program file generated by the web API template.

- `.AddControllers()`: method that register necessary API and MVC services like: 
	- Controller services (attribute routing, data annotation, action filter, content negotiation).
	- Framework services (DI, HTTP context, middleware integration).
	- API-specific services (problem details to generate standardized error responses, API explorer). 

```c#
var builder = WebApplication.CreateBuilder(args);

// Add services to the container.

builder.Services.AddControllers();
// Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

var app = builder.Build();

// Configure the HTTP request pipeline.
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();

app.UseAuthorization();

app.MapControllers();

app.Run();
```


`MapControllers` allow to use attribute routing, which suites better than conventional routing when developing APIs. 
# About the services
The first registered service is typical when building APIs, it includes support for controllers, model-binding, data annotations, etc. 

The next do services have are related to the swagger documentation.

